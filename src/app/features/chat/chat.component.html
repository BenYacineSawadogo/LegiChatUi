<div class="chat-container">
  @if (activeConversation()) {
    <div class="chat-header">
      <h2 class="conversation-title">{{ activeConversation()?.title }}</h2>
    </div>

    <div class="messages-container" #messagesContainer>
      @if (messages().length === 0) {
        <div class="empty-state">
          <div class="empty-icon">ğŸ’¬</div>
          <h3>Bienvenue sur Legichat</h3>
          <p>Commencez une conversation en envoyant un message ci-dessous.</p>
        </div>
      } @else {
        @for (message of messages(); track message.id) {
          <app-message
            [message]="message"
            (copyMessage)="onCopyMessage($event)"
            (editMessage)="onEditMessage($event)" />
        }
      }
    </div>

    <app-chat-input
      (messageSent)="onSendMessage($event)"
      [isGenerating]="isGenerating()"
      (stopGeneration)="onStopGeneration()" />
  } @else {
    <div class="no-conversation">
      <div class="empty-icon">ğŸ“­</div>
      <h3>Aucune conversation sÃ©lectionnÃ©e</h3>
      <p>CrÃ©ez une nouvelle conversation pour commencer.</p>
    </div>
  }
</div>
